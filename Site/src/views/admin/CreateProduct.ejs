<!DOCTYPE html>
<html lang="es">

<%-include("../partials/head" , { css: 'createProduct.css' , title: 'Create Product' })%>

    <body>

        <div class="banner-login">
            <div class="container-imagen">
                <img src="/images/logo.png" class="imagen" alt="" />
                <h1 class="text-white">Foxter</h1>
              
            </div>
            <div class="float-end pe-3">
        
                <ul class="nav">
                    <li class="nav-item">
                      <a class="nav-link " aria-current="page" href="/">Inicio</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" href="/products">Todos los Productos</a>
                    </li>
                    
                  </ul>
    
            </div>
        </div>

        <main>
            <div class="container">
                <form class="formularioProducto" action="/products/" method="POST" enctype="multipart/form-data">
                    <div class="formularioProducto__title">
                        <h3 class="title">Crear producto</h3>
                    </div>
                    <div class="">
                        <div class="row pb-3">
                            <div class=" form-group  col-lg-6">
                                <label for="nombre">Nombre del producto</label>
                                <input type="text" name="name" id="nombre" class="form-control <%= locals.errors && errors.name ? 'is-invalid' : '' %>" value="<%=locals.oldData && oldData.name? oldData.name:null%>">
                                <% if(locals.errors && errors.name){%>
                                    <div class="small text-danger" id="msg-name-back">
                                       <%= errors.name.msg %>
                                       </div>
                            
                                 <%  } %>
                                <div class="small text-danger" id="msg-name"></div>
                            </div>
                            <div class=" form-group  col-lg-6">
                                <label for="imagen">Agregar imagen</label>
                                <input type="file" name="image" multiple id="imagen" class="form-control <%= locals.errors && errors.image ? 'is-invalid' : '' %>" onchange="return fileValidation()">
                                <% if(locals.errors && errors.image){%>
                                    <div class="small text-danger">
                                       <%= errors.image.msg %>
                                       </div>
                            
                                 <%  } %>
                                 <div class="small text-danger" id="msg-image"></div>
                                
                            </div>
                           
                        
                        </div>
                        <div class="row pb-3">
                            <div class=" form-group  col-lg-6">
                                <label for="precio">Precio</label>
                                <input type="number" name="price" id="precio" class="form-control <%= locals.errors && errors.price ? 'is-invalid' : '' %>" value="<%=locals.oldData && oldData.price? oldData.price:null%>">
                                <% if(locals.errors && errors.price){%>
                                    <div class="small text-danger">
                                       <%= errors.price.msg %>
                                       </div>
                            
                                 <%  } %>
                                <div class="small text-danger" id="msg-price"></div>
                            </div>
                            <div class=" form-group  col-lg-6">
                                <label for="descuento">Descuento</label>
                                <input type="number" name="discount" id="descuento" min="0" class="form-control">
                                <div class="small text-danger" id="msg-discount"></div>
                            </div>


                        </div>
                        <div class="row pb-3">
                            <div class=" form-group size  col-lg-6">
                                <label for="talle">Talles</label>
                                <%sizes.forEach((talle)=>{ %>
                                    
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" id="size" value="<%= talle.idSize %>" name="size[]">
                                    <label class="form-check-label" for="inlineCheckbox1"><%= talle.name %></label>
                                  </div>
                                  <%}) %>
                                  
                                  <div class="small text-danger" id="msg-size"></div>
                              
                            </div>
                           
                        </div>
                        <div class="row pb-3">
                            <div class=" form-group  col-lg-4">
                                <label for="category">Categoria</label>
                                <select name="category" id="category" class="form-control">
                                    <%categorias.forEach((categoria)=>{ %>
                                    <option value="<%= categoria.idCategory %>"><%= categoria.name %></option>
                                    <%}) %>
                                </select>
                            </div>

                            <div class=" form-group col-lg-4">
                                <label for="sexCategory">Genero </label>
                                <select name="sexCategory" id="sexCategory" class="form-control">
                                    <%sexCategorias.forEach((sexCategoria)=>{ %>
                                        <option value="<%= sexCategoria.idSexCategories %>"><%= sexCategoria.name %></option>
                                        <%}) %>
                                </select>
                            </div>
                            <div class=" form-group  col-lg-4">
                                <label for="saleCategory">Característica de Venta</label>
                                <select name="saleCategory" id="saleCategory" class="form-control">
                                    <%saleCategorias.forEach((saleCategoria)=>{ %>
                                        <option value="<%= saleCategoria.idSaleCategory %>"><%= saleCategoria.name %></option>                                       %>"><%= saleCategoria.name %></option>
                                        <%}) %>
                                </select>
                            </div>
                            
                        </div>
                        <div class="row pb-3">
                            <div class="form-group  col-lg-12">
                                <label for="description">Descipción</label>
                                <textarea name="description" id="descripcion" rows="4" class="form-control <%= locals.errors && errors.description ? 'is-invalid' : '' %>"></textarea>
                                <% if(locals.errors && errors.description){%>
                                    <div class="small text-danger">
                                       <%= errors.description.msg %>
                                       </div>
                            
                                 <%  } %>
                                <div class="small text-danger" id="msg-description"></div>

                            </div>
                        </div>


                        <div class="row">
                            <div class="form-group  col-lg-6">
                                <button class="guardar" type="submit">Guardar</button>
                            </div>
                            
                        </div>
                    </div>
                </form>

            </div>

        </main>
        <script src="/js/validacionesProducts.js"></script>
    </body>

</html>